<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PACED Assessment - People & Culture Team Maturity</title>
    <meta name="description" content="Bewerte die Reife deines People & Culture Teams mit unserem wissenschaftlich fundierten Assessment Tool.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üöÄ</text></svg>">
    <style>
        /* Reset and base styles for PACED Assessment */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #30099F 0%, #4A1BA8 100%);
            min-height: 100vh;
        }

        .hero {
            text-align: center;
            padding: 60px 20px;
            color: white;
        }

        .hero h1 {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        #paced-assessment-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            min-height: 800px;
            height: auto;
            overflow: visible;
            position: relative;
            z-index: 1;
            background: transparent;
        }

        /* Modal styles */
        #assessment-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            overflow-y: auto;
            display: none;
        }

        /* Button styles */
        #open-assessment {
            background: #30099F;
            color: white;
            border: none;
            padding: 18px 36px;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            text-transform: none;
        }

        #open-assessment:hover {
            background: #2507A0;
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3);
        }

        #close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f3f4f6;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        #close-modal:hover {
            background: #e5e7eb;
            transform: scale(1.1);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px;
            color: white;
            opacity: 0.8;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            #paced-assessment-container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>üöÄ PACED Assessment</h1>
        <p>Bewerte die Reife deines People & Culture Teams mit unserem wissenschaftlich fundierten Assessment Tool. Nimm dir 15 Minuten Zeit, um deine gr√∂√üten Upskilling-Bedarfe zu erkennen.</p>
        
        <div id="paced-assessment-container">
            <div style="text-align: center; padding: 20px;">
                <button id="open-assessment">
                    PACED Assessment starten
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Container -->
    <div id="assessment-modal">
        <div style="max-width: 900px; margin: 20px auto; background: white; border-radius: 12px; position: relative; min-height: calc(100vh - 40px);">
            <button id="close-modal">√ó</button>
            <div id="paced-assessment-content" style="padding: 40px;">
                <!-- Assessment will load here -->
            </div>
        </div>
    </div>

    <div class="footer">
        <p>¬© 2024 PACED - People and Culture Education</p>
    </div>

    <script>
        // PACED Assessment Data
        const strategicPriorities = [
            {
                key: 'mindset',
                title: 'People & Culture Mindset',
                description: 'Welchen Stellenwert hat es, HR als strategischen Business-Partner zu positionieren und ein zukunftsorientiertes, vernetztes Mindset im Team zu etablieren?'
            },
            {
                key: 'business_acumen',
                title: 'Business Acumen',
                description: 'Welchen Stellenwert hat es, externe Markt- und Gesch√§ftsfaktoren zu verstehen und People-Themen gezielt mit den Unternehmenszielen zu verkn√ºpfen?'
            },
            {
                key: 'employee_lifecycle',
                title: 'Employee Lifecycle / Experience Design',
                description: 'Welchen Stellenwert hat es, die Employee Experience entlang des gesamten Mitarbeiter-Lebenszyklus systematisch zu gestalten und zu optimieren?'
            },
            {
                key: 'digital_management',
                title: 'Digital Product-, Project- & Process Management',
                description: 'Welchen Stellenwert hat es, HR-Prozesse und -Projekte professionell zu steuern und digitale Tools sowie Produkt-Logiken konsequent einzusetzen?'
            },
            {
                key: 'data_analytics',
                title: 'Data & Analytics Literacy',
                description: 'Welchen Stellenwert hat es, People-Entscheidungen datenbasiert zu treffen und Erkenntnisse aus HR-Daten aktiv f√ºr strategische Entscheidungen zu nutzen?'
            },
            {
                key: 'people_strategy',
                title: 'People Strategy & Operating Model',
                description: 'Welchen Stellenwert hat es, eine klar definierte People-Strategie und ein zukunftsorientiertes HR Operating Model zu entwickeln und umzusetzen?'
            },
            {
                key: 'facilitation_coaching',
                title: 'Facilitation & Coaching',
                description: 'Welchen Stellenwert hat es, durch starke Moderations-, Workshop- und Coaching-F√§higkeiten Einfluss auf F√ºhrungskr√§fte und Teams zu nehmen?'
            },
            {
                key: 'ai_tech',
                title: 'AI & Tech',
                description: 'Welchen Stellenwert hat es, KI und moderne HR-Tech-Tools zu verstehen und aktiv in den HR-Alltag zu integrieren?'
            },
            {
                key: 'performance_management',
                title: 'Performance & Experience Management',
                description: 'Welchen Stellenwert hat es, klare Performance-Systeme, kontinuierliches Feedback und wirkungsvolle Recognition-Programme zu etablieren?'
            },
            {
                key: 'organisational_design',
                title: 'Organisational Design',
                description: 'Welchen Stellenwert hat es, Organisationsstrukturen und Rollen zukunftsorientiert zu gestalten und Transformationen erfolgreich zu steuern?'
            },
            {
                key: 'new_work',
                title: 'New Work Design',
                description: 'Welchen Stellenwert hat es, flexible Arbeitsmodelle, neue F√ºhrungsans√§tze und Mitarbeiter:innenbeteiligung an New Work-Initiativen voranzutreiben?'
            },
            {
                key: 'offboarding_conflicts',
                title: 'Offboarding, Conflicts & Crisis',
                description: 'Welchen Stellenwert hat es, Konflikte professionell zu l√∂sen, Krisen zu steuern und Offboarding-Prozesse positiv zu gestalten?'
            },
            {
                key: 'culture_development',
                title: 'Culture Development',
                description: 'Welchen Stellenwert hat es, Unternehmenskultur messbar zu machen, gezielt zu entwickeln und intern erlebbar zu kommunizieren?'
            },
            {
                key: 'talent_attraction',
                title: 'Talent Attraction & Employer Branding',
                description: 'Welchen Stellenwert hat es, eine starke Arbeitgebermarke zu positionieren und Talente durch zielgerichtetes People & Culture Marketing zu gewinnen?'
            },
            {
                key: 'talent_acquisition',
                title: 'Talent Acquisition, Recruiting & Onboarding',
                description: 'Welchen Stellenwert hat es, Recruiting-Prozesse effektiv, fair und digital zu gestalten und ein starkes Onboarding-Erlebnis sicherzustellen?'
            },
            {
                key: 'skill_management',
                title: 'Skill & Learning Management',
                description: 'Welchen Stellenwert hat es, Skill-Gaps im Unternehmen zu identifizieren und kontinuierliche Lern- und Entwicklungspfade bereitzustellen?'
            }
        ];

        const maturityQuestions = {
            mindset: [
                'Das People & Culture Team versteht seine moderne Rolle als strategischer Partner und Business Enabler.',
                'Das People & Culture Team zeigt eine hohe Change-Bereitschaft und f√∂rdert aktiv Anpassungsf√§higkeit.',
                'Das People & Culture Team sorgt f√ºr Team-Verbindung und Alignment innerhalb des HR-Bereichs.'
            ],
            business_acumen: [
                'Das People & Culture Team versteht, wie externe Faktoren (Wettbewerb, Branchentrends, Kundenverhalten) Gesch√§ftspriorit√§ten und die HR-Strategie beeinflussen.',
                'Das People & Culture Team √ºbersetzt Unternehmensziele in HR-relevante Ma√ünahmen.',
                'Das People & Culture Team kann den gesch√§ftlichen Mehrwert seiner Arbeit √ºberzeugend darstellen.'
            ],
            employee_lifecycle: [
                'Das People & Culture Team hat ein Grundverst√§ndnis von Employee Experience und Employee Lifecycle.',
                'Das People & Culture Team analysiert, mappt und misst relevante Touchpoints.',
                'Das People & Culture Team gestaltet und entwickelt ‚ÄûMoments that Matter" innovativ.'
            ],
            digital_management: [
                'Das People & Culture Team steuert Projekte effektiv, inkl. Rollout & Activation.',
                'Das People & Culture Team nutzt eine klare Produkt- und Product-Owner-Logik in HR.',
                'Das People & Culture Team analysiert und managt HR-Prozesse f√ºr das Tagesgesch√§ft kontinuierlich.'
            ],
            data_analytics: [
                'Das People & Culture Team versteht relevante HR-Daten und Kennzahlen.',
                'Das People & Culture Team nutzt datengetriebene Methoden f√ºr Entscheidungen und HR-Arbeit.',
                'Das People & Culture Team nutzt Daten storytelling-orientiert in HR-Projekten.'
            ],
            people_strategy: [
                'Das People & Culture Team ist in der Lage, eine klare People & Culture Strategie zu entwickeln, die mit der Unternehmensstrategie abgestimmt ist.',
                'Das People & Culture Team hat ein klares, zukunftsorientiertes HR Operating Model und gestaltet auf dieser Grundlage Rollen und Arbeitsweisen.',
                'Das People & Culture Team aktiviert und verankert People-Strategien durch Kommunikation, Routinen, Stakeholder-Engagement und Umsetzung.'
            ],
            facilitation_coaching: [
                'Das People & Culture Team f√ºhrt exzellente Meetings durch.',
                'Das People & Culture Team bereitet Workshops erlebnisorientiert und methodisch zielf√ºhrend vor und f√ºhrt sie durch.',
                'Das People & Culture Team f√ºhrt Coaching- und 1:1-Gespr√§che sicher.'
            ],
            ai_tech: [
                'Das People & Culture Team versteht die Potenziale von KI & Automatisierung f√ºr HR.',
                'Das People & Culture Team w√§hlt und implementiert HR-Tech-Tools effektiv.',
                'Das People & Culture Team nutzt KI (z. B. Prompting, Use-Cases) in der t√§glichen Arbeit.'
            ],
            performance_management: [
                'Das People & Culture Team setzt klare Zielsysteme (z. B. OKRs) f√ºr HR und unterst√ºtzt deren Umsetzung.',
                'Das People & Culture Team gestaltet Performance-Feedback-Prozesse wirksam.',
                'Das People & Culture Team entwickelt Recognition- & Reward-Programme.'
            ],
            organisational_design: [
                'Das People & Culture Team entwickelt Rollen- und Strukturarchitekturen.',
                'Das People & Culture Team plant den Workforce-Bedarf vorausschauend.',
                'Das People & Culture Team managt Change & Transformation (Prozesse, Rollen, Kommunikation).'
            ],
            new_work: [
                'Das People & Culture Team gestaltet flexible Arbeitsmodelle.',
                'Das People & Culture Team entwickelt neue F√ºhrungsmodelle.',
                'Das People & Culture Team bindet Mitarbeitende aktiv in New Work-Initiativen ein.'
            ],
            offboarding_conflicts: [
                'Das People & Culture Team gestaltet effektive Offboarding-Prozesse und Alumni-Management.',
                'Das People & Culture Team l√∂st Konflikte, inkl. Mediation.',
                'Das People & Culture Team steuert Krisenkommunikation und entwickelt Resilienzprogramme.'
            ],
            culture_development: [
                'Das People & Culture Team misst und analysiert Unternehmenskultur.',
                'Das People & Culture Team entwickelt Kulturprogramme (z. B. Inclusion, Values).',
                'Das People & Culture Team setzt wirkungsvolle Kulturformate und interne Kommunikation um.'
            ],
            talent_attraction: [
                'Das People & Culture Team entwickelt eine klare Employer Value Proposition.',
                'Das People & Culture Team betreibt People & Culture Marketing (relevante Botschaften, visuelle Identit√§t, Kampagnen).'
            ],
            talent_acquisition: [
                'Das People & Culture Team gestaltet Recruiting-Prozesse effizient, inklusiv und candidate-centric.',
                'Das People & Culture Team entwickelt und implementiert digitale und soziale Recruiting-Strategien.',
                'Das People & Culture Team nutzt strukturierte, faire Auswahlmethoden.',
                'Das People & Culture Team gestaltet Onboarding-Prozesse, die Klarheit, Integration und Engagement f√∂rdern.'
            ],
            skill_management: [
                'Das People & Culture Team f√ºhrt Skill-Mapping & Gap-Analysen durch.',
                'Das People & Culture Team entwickelt Lernpfade und Development Journeys.',
                'Das People & Culture Team w√§hlt und nutzt Learning Tech (LMS etc.) effektiv.'
            ]
        };

        // PACED Assessment Modal Widget
        document.addEventListener('DOMContentLoaded', function() {
            const openBtn = document.getElementById('open-assessment');
            const modal = document.getElementById('assessment-modal');
            const closeBtn = document.getElementById('close-modal');
            const container = document.getElementById('paced-assessment-content');
            
            let currentStep = 1;
            let isInitialized = false;
            let formData = {
                companySize: '',
                industry: '',
                teamSize: '',
                teamMission: '',
                teamStructure: '',
                repetitiveWork: 50,
                priorities: {},
                maturity: {}
            };
            
            // Open modal
            openBtn.addEventListener('click', function() {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                if (!isInitialized) {
                    initAssessment();
                    isInitialized = true;
                }
            });
            
            // Close modal
            closeBtn.addEventListener('click', function() {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            });
            
            // Close on background click
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
            
            function initAssessment() {
                renderWidget();
            }
            
            function renderWidget() {
                container.innerHTML = `
                    <div style="font-family: Arial, sans-serif;">
                        
                        <!-- Step Indicator -->
                        <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 30px;">
                            <div style="width: 40px; height: 40px; border-radius: 50%; background: ${currentStep >= 1 ? '#30099F' : '#e5e7eb'}; color: ${currentStep >= 1 ? 'white' : '#9ca3af'}; display: flex; align-items: center; justify-content: center; font-weight: bold;">1</div>
                            <div style="width: 60px; height: 2px; background: ${currentStep > 1 ? '#30099F' : '#e5e7eb'}; margin: 0 8px;"></div>
                            <div style="width: 40px; height: 40px; border-radius: 50%; background: ${currentStep >= 2 ? '#30099F' : '#e5e7eb'}; color: ${currentStep >= 2 ? 'white' : '#9ca3af'}; display: flex; align-items: center; justify-content: center; font-weight: bold;">2</div>
                            <div style="width: 60px; height: 2px; background: ${currentStep > 2 ? '#30099F' : '#e5e7eb'}; margin: 0 8px;"></div>
                            <div style="width: 40px; height: 40px; border-radius: 50%; background: ${currentStep >= 3 ? '#30099F' : '#e5e7eb'}; color: ${currentStep >= 3 ? 'white' : '#9ca3af'}; display: flex; align-items: center; justify-content: center; font-weight: bold;">3</div>
                        </div>

                        <!-- Content -->
                        <div style="margin-bottom: 30px;">
                            ${getStepContent()}
                        </div>

                        <!-- Navigation -->
                        <div style="display: flex; justify-content: space-between; padding-top: 20px; border-top: 2px solid #e5e7eb;">
                            <button onclick="previousStep()" ${currentStep === 1 ? 'disabled' : ''} style="padding: 12px 24px; background: ${currentStep === 1 ? '#f3f4f6' : '#f3f4f6'}; color: #374151; border: none; border-radius: 8px; cursor: ${currentStep === 1 ? 'not-allowed' : 'pointer'}; font-weight: 600; opacity: ${currentStep === 1 ? '0.5' : '1'};">‚Üê Zur√ºck</button>
                            <button onclick="nextStep()" style="padding: 12px 24px; background: #30099F; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">${currentStep === 4 ? 'Assessment abschlie√üen' : 'Weiter ‚Üí'}</button>
                        </div>
                    </div>
                `;
            }
            
            function getStepContent() {
                if (currentStep === 1) {
                    return `
                        <div style="text-align: center; margin-bottom: 30px;">
                            <h2 style="font-size: 1.8rem; font-weight: bold; margin-bottom: 10px; color: #1e293b;">Kontaktdaten</h2>
                            <p style="color: #64748b; margin-bottom: 20px;">Damit wir dir deine Ergebnisse zusenden k√∂nnen</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                            <div>
                                <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">Vorname & Nachname *</label>
                                <input type="text" id="fullName" placeholder="Max Mustermann" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                            </div>
                            
                            <div>
                                <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">E-Mail Adresse *</label>
                                <input type="email" id="email" placeholder="max@unternehmen.de" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">Position / Rolle *</label>
                            <input type="text" id="position" placeholder="Head of People & Culture" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                        </div>
                    `;
                } else if (currentStep === 2) {
                    return `
                        <div style="text-align: center; margin-bottom: 30px;">
                            <h2 style="font-size: 1.8rem; font-weight: bold; margin-bottom: 10px; color: #1e293b;">Basis & Facts</h2>
                            <p style="color: #64748b; margin-bottom: 20px;">Erz√§hlt uns etwas √ºber euer Unternehmen und Team</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                            <div>
                                <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">Unternehmensgr√∂√üe</label>
                                <select id="companySize" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                                    <option value="">Bitte w√§hlen...</option>
                                    <option value="<50"><50</option>
                                    <option value="50‚Äì249">50‚Äì249</option>
                                    <option value="250‚Äì999">250‚Äì999</option>
                                    <option value="1.000‚Äì4.999">1.000‚Äì4.999</option>
                                    <option value=">5.000 MA">>5.000 MA</option>
                                </select>
                            </div>
                            
                            <div>
                                <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">Branche</label>
                                <select id="industry" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                                    <option value="">Bitte w√§hlen...</option>
                                    <option value="Technologie & Software">Technologie & Software</option>
                                    <option value="Finanzdienstleistungen">Finanzdienstleistungen</option>
                                    <option value="Gesundheitswesen">Gesundheitswesen</option>
                                    <option value="Automotive">Automotive</option>
                                    <option value="Einzelhandel">Einzelhandel</option>
                                    <option value="Fertigung">Fertigung</option>
                                    <option value="Beratung">Beratung</option>
                                    <option value="Medien & Marketing">Medien & Marketing</option>
                                    <option value="Energie & Umwelt">Energie & Umwelt</option>
                                    <option value="Bildung & Forschung">Bildung & Forschung</option>
                                    <option value="Logistik & Transport">Logistik & Transport</option>
                                    <option value="Immobilien & Bau">Immobilien & Bau</option>
                                    <option value="Telekommunikation">Telekommunikation</option>
                                    <option value="Pharma & Biotechnologie">Pharma & Biotechnologie</option>
                                    <option value="Lebensmittel & Getr√§nke">Lebensmittel & Getr√§nke</option>
                                    <option value="Mode & Lifestyle">Mode & Lifestyle</option>
                                    <option value="Gaming & Entertainment">Gaming & Entertainment</option>
                                    <option value="Non-Profit & NGO">Non-Profit & NGO</option>
                                    <option value="√ñffentlicher Sektor">√ñffentlicher Sektor</option>
                                    <option value="Andere">Andere</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">Teamgr√∂√üe People & Culture / HR</label>
                            <select id="teamSize" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; box-sizing: border-box;">
                                <option value="">Bitte w√§hlen...</option>
                                <option value="1‚Äì5">1‚Äì5</option>
                                <option value="6‚Äì10">6‚Äì10</option>
                                <option value="11‚Äì20">11‚Äì20</option>
                                <option value="21‚Äì50">21‚Äì50</option>
                                <option value=">50">>50</option>
                            </select>
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">Beschreibe das Selbstverst√§ndnis / die Mission deines People & Culture Teams</label>
                            <textarea id="teamMission" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; height: 100px; resize: vertical; box-sizing: border-box;" placeholder="z.B. Wir verstehen uns als strategischer Partner f√ºr das Business und gestalten eine zukunftsorientierte Arbeitskultur..."></textarea>
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">Beschreibe das Operating Model / Die Struktur deines People & Culture Teams</label>
                            <textarea id="teamStructure" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; height: 100px; resize: vertical; box-sizing: border-box;" placeholder="z.B. Wir arbeiten in einem hybriden Modell mit dedizierten Business Partnern und einem zentralen Operations-Team..."></textarea>
                        </div>
                        
                        <div style="margin-bottom: 25px;">
                            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #374151;">Anteil wiederkehrender / operativer T√§tigkeiten: <span id="slider-value">50</span>%</label>
                            <input type="range" min="0" max="100" value="50" style="width: 100%; height: 8px; background: #e5e7eb; border-radius: 4px; cursor: pointer;" onchange="document.getElementById('slider-value').textContent = this.value; formData.repetitiveWork = this.value;">
                            <div style="display: flex; justify-content: space-between; font-size: 12px; color: #6b7280; margin-top: 5px;">
                                <span>0%</span>
                } else if (currentStep === 3) {
                                <span>100%</span>
                            </div>
                        </div>
                    `;
                } else if (currentStep === 2) {
                    let html = `
                        <div style="text-align: center; margin-bottom: 30px;">
                            <h2 style="font-size: 1.8rem; font-weight: bold; margin-bottom: 10px; color: #1e293b;">Strategische Priorit√§ten</h2>
                            <p style="color: #64748b; margin-bottom: 20px;">Welche People & Culture Themen haben f√ºr die Unternehmensstrategie deiner Organisation in den n√§chsten 12 Monaten einen hohen Stellenwert?</p>
                        </div>
                    `;

                    strategicPriorities.forEach(priority => {
                        html += `
                            <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 12px; padding: 20px; margin-bottom: 20px; transition: all 0.3s;">
                                <h3 style="font-weight: 700; margin-bottom: 8px; color: #1e293b; font-size: 1.1rem;">${priority.title}</h3>
                                <p style="font-size: 0.9rem; color: #64748b; margin-bottom: 15px; line-height: 1.5;">${priority.description}</p>
                                <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap; justify-content: center;">
                                    <span style="font-size: 0.875rem; color: #6b7280; min-width: 120px;">Kein Stellenwert</span>
                                    <div style="display: flex; gap: 8px;">
                                        ${[1,2,3,4,5].map(value => 
                                            `<button onclick="selectRating(this, '${priority.key}', ${value})" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s; display: flex; align-items: center; justify-content: center;">${value}</button>`
                                        ).join('')}
                                    </div>
                                    <span style="font-size: 0.875rem; color: #6b7280; min-width: 120px;">Sehr hoher Stellenwert</span>
                                </div>
                        <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                            <h3 style="font-weight: 700; margin-bottom: 8px; color: #1e293b; font-size: 1.1rem;">Employee Lifecycle / Experience Design</h3>
                            <p style="font-size: 0.9rem; color: #64748b; margin-bottom: 15px; line-height: 1.5;">Employee Experience systematisch gestalten</p>
                            <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap; justify-content: center;">
                                <span style="font-size: 0.875rem; color: #6b7280; min-width: 80px;">Niedrig</span>
                                <div style="display: flex; gap: 8px;">
                                    <button onclick="selectRating(this, 'employee_lifecycle', 1)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">1</button>
                                    <button onclick="selectRating(this, 'employee_lifecycle', 2)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">2</button>
                                    <button onclick="selectRating(this, 'employee_lifecycle', 3)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">3</button>
                                    <button onclick="selectRating(this, 'employee_lifecycle', 4)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">4</button>
                                    <button onclick="selectRating(this, 'employee_lifecycle', 5)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">5</button>
                                </div>
                                <span style="font-size: 0.875rem; color: #6b7280; min-width: 80px;">Sehr hoch</span>
                            </div>
                        </div>
                        
                            </div>
                        `;
                    });

                    return html;
                } else if (currentStep === 3) {
                    const highPriorityFields = getHighPriorityFields();
                    
                    if (highPriorityFields.length === 0) {
                        return `
                            <div style="text-align: center; padding: 40px;">
                                <h2 style="font-size: 1.8rem; font-weight: bold; margin-bottom: 10px; color: #1e293b;">Maturity Assessment</h2>
                                <p style="color: #64748b; margin-bottom: 20px;">Keine Bereiche mit hoher Priorit√§t (‚â•3) ausgew√§hlt. Bitte gehe zur√ºck und bewerte deine Priorit√§ten.</p>
                            </div>
                        `;
                        
                        <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                            <h3 style="font-weight: 700; margin-bottom: 8px; color: #1e293b; font-size: 1.1rem;">AI & Tech</h3>
                            <p style="font-size: 0.9rem; color: #64748b; margin-bottom: 15px; line-height: 1.5;">KI und HR-Tech-Tools aktiv nutzen</p>
                            <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap; justify-content: center;">
                                <span style="font-size: 0.875rem; color: #6b7280; min-width: 80px;">Niedrig</span>
                                <div style="display: flex; gap: 8px;">
                                    <button onclick="selectRating(this, 'ai_tech', 1)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">1</button>
                                    <button onclick="selectRating(this, 'ai_tech', 2)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">2</button>
                                    <button onclick="selectRating(this, 'ai_tech', 3)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">3</button>
                                    <button onclick="selectRating(this, 'ai_tech', 4)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">4</button>
                                    <button onclick="selectRating(this, 'ai_tech', 5)" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s;">5</button>
                                </div>
                                <span style="font-size: 0.875rem; color: #6b7280; min-width: 80px;">Sehr hoch</span>
                            </div>
                        </div>
                    }
                } else if (currentStep === 4) {
                    let html = `
                        <div style="text-align: center; margin-bottom: 30px;">
                            <h2 style="font-size: 1.8rem; font-weight: bold; margin-bottom: 10px; color: #1e293b;">Maturity Assessment</h2>
                            <p style="color: #64748b; margin-bottom: 20px;">Bewerte eure aktuelle Reife in den priorisierten Bereichen</p>
                        </div>
                    `;

                    highPriorityFields.forEach(field => {
                        html += `
                            <div style="background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                                <h3 style="font-weight: 700; margin-bottom: 15px; color: #1e293b; font-size: 1.1rem;">${field.title}</h3>
                        `;

                        maturityQuestions[field.key]?.forEach((question, index) => {
                            html += `
                                <div style="border-left: 4px solid #f59e0b; padding-left: 15px; margin-bottom: 20px;">
                                    <p style="font-size: 0.9rem; color: #374151; margin-bottom: 10px; line-height: 1.5;">${question}</p>
                                    <div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap; justify-content: center;">
                                        <span style="font-size: 0.75rem; color: #6b7280; min-width: 80px;">Trifft nicht zu</span>
                                        <div style="display: flex; gap: 6px;">
                                            ${[1,2,3,4,5].map(value => 
                                                `<button onclick="selectMaturity(this, '${field.key}', ${index}, ${value})" style="width: 32px; height: 32px; border-radius: 50%; border: 2px solid #d1d5db; background: white; cursor: pointer; font-weight: 600; transition: all 0.3s; display: flex; align-items: center; justify-content: center; font-size: 0.75rem;">${value}</button>`
                                            ).join('')}
                                        </div>
                                        <span style="font-size: 0.75rem; color: #6b7280; min-width: 80px;">Trifft voll zu</span>
                                        <button onclick="selectMaturity(this, '${field.key}', ${index}, 'unknown')" style="margin-left: 15px; padding: 4px 12px; font-size: 0.75rem; border-radius: 4px; border: 1px solid #d1d5db; background: white; cursor: pointer; transition: all 0.3s; color: #6b7280;">Wei√ü nicht</button>
                                    </div>
                                </div>
                            `;
                        });

                        html += `</div>`;
                    });

                    return html;
                } else {
                    const scores = calculateScores();
                    return `
                        <div style="text-align: center;">
                            <h2 style="font-size: 1.8rem; font-weight: bold; margin-bottom: 30px; color: #1e293b;">üéâ Deine Assessment-Ergebnisse</h2>
                            <p style="color: #64748b; margin-bottom: 30px;">Basierend auf deinen Angaben haben wir eine individuelle Analyse erstellt</p>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                                <div style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; border-radius: 16px; padding: 30px;">
                                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 15px;">People & Culture Maturity Score</h3>
                                    <div style="font-size: 3rem; font-weight: 900; margin-bottom: 8px;">${scores.maturityScore > 0 ? '+' : ''}${scores.maturityScore.toFixed(1)}</div>
                                <div style="background: linear-gradient(135deg, #6AE2A6 0%, #4CAF50 100%); color: white; border-radius: 16px; padding: 30px;">
                                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.1); border-radius: 8px;">
                                        <p style="font-size: 0.85rem; line-height: 1.4;">${scores.maturityDescription}</p>
                                    </div>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, #F6585B 0%, #E53E3E 100%); color: white; border-radius: 16px; padding: 30px;">
                                    <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 15px;">AI-Risk Score</h3>
                                    <div style="font-size: 3rem; font-weight: 900; margin-bottom: 8px;">${Math.round(scores.aiRiskScore)}%</div>
                                    <p style="font-size: 0.9rem; opacity: 0.9;">Automatisierungsrisiko</p>
                                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.1); border-radius: 8px;">
                                        <p style="font-size: 0.85rem; line-height: 1.4;">${scores.aiRiskDescription}</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); margin-bottom: 25px;">
                                <h2 style="font-size: 1.5rem; font-weight: bold; color: #1e293b; margin-bottom: 20px;">Top 3 Upskilling-Felder</h2>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                                    ${scores.topUpskillFields.slice(0, 3).map((field, index) => `
                                        <div style="border: 2px solid #e2e8f0; border-radius: 12px; padding: 20px; transition: all 0.3s;">
                                            <div style="display: flex; justify-content: between; align-items: start; margin-bottom: 15px;">
                                                <h3 style="font-size: 1.1rem; font-weight: 600; color: #1e293b; flex: 1;">${field.field}</h3>
                                                <span style="background: #fef3c7; color: #92400e; padding: 4px 8px; border-radius: 20px; font-size: 0.75rem; font-weight: 600;">Gap: ${field.gap.toFixed(1)}</span>
                                            </div>
                                            <p style="font-size: 0.9rem; color: #64748b; margin-bottom: 15px; line-height: 1.5;">${field.explanation}</p>
                                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem; margin-bottom: 15px;">
                                                <span style="color: #6b7280;">Priorit√§t: <strong>${field.priority}/5</strong></span>
                                                <span style="color: #6b7280;">Reife: <strong>${field.maturity.toFixed(1)}/5</strong></span>
                                            </div>
                                            <button onclick="window.open('https://cal.com/intracarsten/60-min-meeting', '_blank')" style="width: 100%; background: #f59e0b; color: #1e293b; padding: 10px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='#f59e0b'" onmouseout="this.style.background='#f59e0b'">
                                                üìö Coaching-Call buchen und Upskilling starten
                                            </button>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); margin-bottom: 25px;">
                                <h2 style="font-size: 1.5rem; font-weight: bold; color: #1e293b; margin-bottom: 20px;">Detaillierte Analyse</h2>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                                    <div>
                                        <h3 style="font-size: 1.2rem; font-weight: 600; color: #1e293b; margin-bottom: 15px;">üí™ St√§rken</h3>
                                        <ul style="list-style: none; padding: 0;">
                                            ${scores.strengths.map(strength => `
                                                <li style="display: flex; align-items: start; margin-bottom: 10px;">
                                                    <div style="width: 8px; height: 8px; background: #10b981; border-radius: 50%; margin-top: 6px; margin-right: 12px; flex-shrink: 0;"></div>
                                                    <span style="color: #374151; line-height: 1.5;">${strength}</span>
                                                </li>
                                            `).join('')}
                                        </ul>
                                    </div>
                                    
                                    <div>
                                        <h3 style="font-size: 1.2rem; font-weight: 600; color: #1e293b; margin-bottom: 15px;">üöÄ Entwicklungspotenziale</h3>
                                        <ul style="list-style: none; padding: 0;">
                                            ${scores.improvements.map(improvement => `
                                                <li style="display: flex; align-items: start; margin-bottom: 10px;">
                                                    <div style="width: 8px; height: 8px; background: #f59e0b; border-radius: 50%; margin-top: 6px; margin-right: 12px; flex-shrink: 0;"></div>
                                                    <span style="color: #374151; line-height: 1.5;">${improvement}</span>
                                                </li>
                                            `).join('')}
                                        </ul>
                                    </div>
                                </div>
                                
                                <div style="margin-top: 25px; padding: 20px; background: #eff6ff; border-radius: 12px;">
                                    <p style="color: #374151; line-height: 1.6; font-size: 1rem;">
                                        ${scores.personalizedInsight}
                            <!-- Carsten's Quote Section -->
                            <div style="margin: 30px 0; padding: 25px; background: #f8fafc; border-radius: 12px; border-left: 4px solid #30099F;">
                                <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                                    <img src="https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop&crop=face" 
                                         alt="Carsten Schermuly" 
                                         style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid #30099F;">
                                    <div style="text-align: left;">
                                        <h4 style="color: #1e293b; margin: 0; font-size: 1.1rem; font-weight: 700;">Carsten Schermuly</h4>
                                        <p style="color: #64748b; margin: 5px 0 0 0; font-size: 0.9rem;">Founder, PACED - People and Culture Education</p>
                                    </div>
                                </div>
                                <blockquote style="font-style: italic; color: #374151; font-size: 1rem; line-height: 1.6; margin: 0;">
                                    "Die Zukunft von HR liegt in der strategischen Partnerschaft mit dem Business. Teams, die heute in Data Analytics, AI und Employee Experience investieren, werden morgen die Gewinner sein. Euer Assessment zeigt: Ihr seid auf dem richtigen Weg!"
                                </blockquote>
                            </div>
                            
                                    </p>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                                <button onclick="downloadResults()" style="display: flex; align-items: center; gap: 8px; padding: 12px 24px; background: #1e293b; color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='#374151'" onmouseout="this.style.background='#1e293b'">
                                    üìÑ Ergebnis als PDF sichern
                                </button>
                                
                                <button onclick="restartAssessment()" style="display: flex; align-items: center; gap: 8px; padding: 12px 24px; background: #f3f4f6; color: #374151; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='#e5e7eb'" onmouseout="this.style.background='#f3f4f6'">
                            <button onclick="window.open('https://cal.com/intracarsten/60-min-meeting', '_blank')" style="font-size: 1.1rem; padding: 15px 30px; background: #30099F; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; margin-top: 25px; transition: all 0.3s;" onmouseover="this.style.background='#2507A0'" onmouseout="this.style.background='#30099F'">
                                </button>
                            </div>
                        </div>
                    `;
                }
            }

            function getHighPriorityFields() {
                return strategicPriorities.filter(field => 
                    formData.priorities[field.key] >= 3
                );
            }

            function calculateScores() {
                // Calculate People & Culture Maturity Score (-5 to +5)
                let totalGap = 0;
                let fieldCount = 0;

                Object.keys(formData.priorities).forEach(field => {
                    const priority = formData.priorities[field];
                    if (priority >= 3 && formData.maturity[field]) {
                        const maturityValues = Object.values(formData.maturity[field]).filter(v => v !== 'unknown' && typeof v === 'number');
                        if (maturityValues.length > 0) {
                            const avgMaturity = maturityValues.reduce((sum, val) => sum + val, 0) / maturityValues.length;
                            const gap = avgMaturity - priority;
                            totalGap += gap;
                            fieldCount++;
                        }
                    }
                });

                const maturityScore = fieldCount > 0 ? Math.max(-5, Math.min(5, totalGap / fieldCount)) : 0;

                // Calculate AI Risk Score
                let aiRiskScore = formData.repetitiveWork || 50;
                if (formData.repetitiveWork > 30) {
                    aiRiskScore = 70 + ((formData.repetitiveWork - 30) / 70) * 30;
                } else {
                    aiRiskScore = (formData.repetitiveWork / 30) * 69;
                }

                // Adjust based on team structure and mission
                if (formData.teamMission && formData.teamMission.toLowerCase().includes('strategisch')) {
                    aiRiskScore *= 0.8;
                }
                if (formData.teamStructure && formData.teamStructure.toLowerCase().includes('business partner')) {
                    aiRiskScore *= 0.7;
                }

                aiRiskScore = Math.min(100, Math.max(0, aiRiskScore));

                // Generate descriptions
                let maturityDescription = "";
                if (maturityScore >= 3) maturityDescription = "Exzellent! Euer Team zeigt eine sehr hohe Reife in den strategisch wichtigen Bereichen.";
                else if (maturityScore >= 1) maturityDescription = "Gut! Ihr seid auf einem soliden Weg, habt aber noch Potenzial f√ºr Verbesserungen.";
                else if (maturityScore >= -1) maturityDescription = "Ausgeglichen. Eure Reife entspricht etwa euren strategischen Priorit√§ten.";
                else if (maturityScore >= -3) maturityDescription = "Entwicklungsbedarf. Es gibt deutliche L√ºcken zwischen euren Priorit√§ten und der aktuellen Reife.";
                else maturityDescription = "Starke Herausforderungen. Hier besteht dringender Handlungsbedarf in mehreren kritischen Bereichen.";

                const aiRiskDescription = aiRiskScore >= 70 ? 
                    "Sehr hohes Automatisierungsrisiko. Viele eurer T√§tigkeiten k√∂nnten durch KI ersetzt werden. Gleichzeitig bietet KI enormes Potenzial, eure Effizienz und Produktivit√§t zu steigern." :
                    "Geringes Automatisierungsrisiko. Eure Arbeit ist gr√∂√ütenteils strategisch und schwer automatisierbar. Dennoch kann KI eure Effizienz und Produktivit√§t erheblich steigern.";

                // Identify top upskilling fields
                const topUpskillFields = [];
                Object.keys(formData.priorities).forEach(field => {
                    const priority = formData.priorities[field];
                    if (priority >= 4 && formData.maturity[field]) {
                        const maturityValues = Object.values(formData.maturity[field]).filter(v => v !== 'unknown' && typeof v === 'number');
                        if (maturityValues.length > 0) {
                            const avgMaturity = maturityValues.reduce((sum, val) => sum + val, 0) / maturityValues.length;
                            const gap = priority - avgMaturity;
                            
                            const fieldTitle = strategicPriorities.find(p => p.key === field)?.title || field;
                            
                            topUpskillFields.push({
                                field: fieldTitle,
                                priority,
                                maturity: avgMaturity,
                                gap,
                                explanation: generateGapExplanation(fieldTitle, priority, avgMaturity, gap)
                            });
                        }
                    }
                });

                topUpskillFields.sort((a, b) => b.gap - a.gap);

                // Generate strengths and improvements
                const strengths = [
                    'Ihr habt klare strategische Priorit√§ten f√ºr euer People & Culture Team definiert',
                    'Euer Team zeigt eine hohe Bereitschaft zur systematischen Weiterentwicklung',
                    'Die Teilnahme am Assessment zeigt euer Commitment f√ºr professionelle HR-Arbeit'
                ];

                const improvements = [
                    'Entwickelt systematische Messung und Erfolgskontrolle f√ºr eure HR-Ma√ünahmen',
                    'Baut das Stakeholder-Alignment f√ºr eure People & Culture Strategie aus',
                    'Etabliert regelm√§√üige Feedback-Schleifen mit dem Management',
                    'Investiert in datengetriebene Entscheidungsfindung',
                    'St√§rkt die interne Kommunikation eurer HR-Erfolge'
                ];

                // Generate personalized insight
                const personalizedInsight = `Als ${formData.teamSize}-k√∂pfiges People & Culture Team in einem ${formData.companySize} Mitarbeiter Unternehmen aus der ${formData.industry}-Branche ${
                    maturityScore >= 2 ? 'seid ihr bereits sehr gut aufgestellt. Fokussiert euch jetzt darauf, eure Expertise zu vertiefen und als strategischer Partner noch sichtbarer zu werden.' :
                    maturityScore >= 0 ? 'habt ihr eine solide Basis gelegt. Der n√§chste Schritt ist, systematischer zu werden und messbare Erfolge zu schaffen.' :
                    'steht ihr vor spannenden Entwicklungsm√∂glichkeiten. Startet mit den Grundlagen in euren Top-Priorit√§ten und baut systematisch auf.'
                }${aiRiskScore > 60 ? ' Gleichzeitig solltet ihr euch intensiv mit KI und Automatisierung besch√§ftigen, um zukunftsf√§hig zu bleiben.' : ''}`;

                return {
                    maturityScore,
                    maturityDescription,
                    aiRiskScore,
                    aiRiskDescription,
                    topUpskillFields,
                    strengths,
                    improvements,
                    personalizedInsight
                };
            }

            function generateGapExplanation(fieldTitle, priority, maturity, gap) {
                const encouragements = [
                    "Gut, dass ihr euch mit der Thematik auseinandersetzt!",
                    "Ein wichtiges Thema f√ºr eure Organisation!",
                    "Hier liegt gro√ües Potenzial f√ºr euer Team!",
                    "Ein strategisch wichtiger Bereich f√ºr euch!",
                    "Perfekt, dass ihr hier den Fokus setzt!"
                ];
                
                const gapDescriptions = [
                    "eine klare Priorit√§t!",
                    "hier k√∂nnt ihr richtig durchstarten!",
                    "ein Bereich mit viel Entwicklungspotenzial!",
                    "hier wartet spannendes Upskilling auf euch!",
                    "definitiv ein Fokusbereich f√ºr die n√§chsten Monate!"
                ];
                
                const randomEncouragement = encouragements[Math.floor(Math.random() * encouragements.length)];
                const randomGapDescription = gapDescriptions[Math.floor(Math.random() * gapDescriptions.length)];
                
                if (gap > 2) {
                    return `${fieldTitle} hat hohe strategische Priorit√§t (${priority}/5) f√ºr deine Organisation. ${randomEncouragement} Eure People & Culture Team Reife ist hier noch ausbauf√§hig (${maturity.toFixed(1)}/5) - ${randomGapDescription}`;
                } else if (gap > 1) {
                    return `${fieldTitle} ist strategisch wichtig (${priority}/5) f√ºr euch. ${randomEncouragement} Mit eurer aktuellen Reife von ${maturity.toFixed(1)}/5 habt ihr eine solide Basis, aber ${randomGapDescription}`;
                } else {
                    return `${fieldTitle} zeigt bei euch eine gute Balance zwischen Priorit√§t (${priority}/5) und Reife (${maturity.toFixed(1)}/5). ${randomEncouragement} Hier k√∂nnt ihr gezielt die n√§chsten Schritte gehen.`;
                }
            }
            
            // Global functions for navigation
            window.nextStep = function() {
                // Save form data from current step
                if (currentStep === 1) {
                    formData.fullName = document.getElementById('fullName')?.value || '';
                    formData.email = document.getElementById('email')?.value || '';
                    formData.position = document.getElementById('position')?.value || '';
                }
                
                if (currentStep === 2) {
                    formData.companySize = document.getElementById('companySize')?.value || '';
                    formData.industry = document.getElementById('industry')?.value || '';
                    formData.teamSize = document.getElementById('teamSize')?.value || '';
                    formData.teamMission = document.getElementById('teamMission')?.value || '';
                    formData.teamStructure = document.getElementById('teamStructure')?.value || '';
                    formData.teamStructure = document.getElementById('teamStructure')?.value || '';
                }
                
                if (currentStep < 4) {
                    currentStep++;
                } else {
                    currentStep = 5; // Results
                }
                renderWidget();
            };
            
            window.previousStep = function() {
                if (currentStep > 1) {
                    currentStep--;
                    renderWidget();
                }
            };
            
            window.selectRating = function(button, field, value) {
                // Remove selection from siblings
                const siblings = button.parentNode.querySelectorAll('button');
                siblings.forEach(btn => {
                    btn.style.background = 'white';
                    btn.style.borderColor = '#d1d5db';
                    btn.style.color = 'black';
                });
                
                // Select clicked button
                button.style.background = '#30099F';
                button.style.borderColor = '#30099F';
                button.style.color = 'white';
                
                // Store value
                formData.priorities[field] = value;
            };

            window.selectMaturity = function(button, field, subskill, value) {
                // Remove selection from siblings
                const siblings = button.parentNode.querySelectorAll('button');
                siblings.forEach(btn => {
                    btn.style.background = 'white';
                    btn.style.borderColor = '#d1d5db';
                    btn.style.color = 'black';
                });
                
                // Select clicked button
                if (value !== 'unknown') {
                    button.style.background = '#6366f1';
                    button.style.borderColor = '#6366f1';
                    button.style.color = 'white';
                } else {
                    button.style.background = '#6b7280';
                    button.style.borderColor = '#6b7280';
                    button.style.color = 'white';
                }
                
                // Store value
                if (!formData.maturity[field]) {
                    formData.maturity[field] = {};
                }
                formData.maturity[field][subskill] = value;
            };

            window.downloadResults = function() {
                const scores = calculateScores();
                const pdfContent = `
PACED - People and Culture Education
Assessment Ergebnisse

People & Culture Maturity Score: ${scores.maturityScore > 0 ? '+' : ''}${scores.maturityScore.toFixed(1)}
AI-Risk Score: ${Math.round(scores.aiRiskScore)}%

Top 3 Upskilling-Felder:
${scores.topUpskillFields.slice(0, 3).map((field, index) => 
  `${index + 1}. ${field.field} (Gap: ${field.gap.toFixed(1)})`
).join('\n')}

F√ºr eine detaillierte Beratung: https://cal.com/intracarsten/60-min-meeting
                `;
                
                const blob = new Blob([pdfContent], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'PACED-Assessment-Ergebnisse.txt';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            window.restartAssessment = function() {
                currentStep = 1;
                formData = {
                    companySize: '',
                    industry: '',
                    teamSize: '',
                    teamMission: '',
                    teamStructure: '',
                    repetitiveWork: 50,
                    priorities: {},
                    maturity: {}
                };
                renderWidget();
            };
        });
    </script>
</body>
</html>
